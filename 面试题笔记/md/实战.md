# 面试实战整理

## 在Vue生命周期created里面要操作DOM怎么办？
```
<template>
<!-- 测试Created里面操作DOM -->
    <div>
        <div class="test-dom1 test-dom">
            我是测试DOM1
        </div>
        <template>
            <div class="test-dom2 test-dom">
                我是测试DOM2
            </div>
        </template>
        <my-com class="test-dom test-dom3" ref="testDom3"></my-com>
    </div>
</template>

<script>
let myCom = {
    template: `<div>我是子组件</div>`,
    data: function () {
        return {
            age: 100
        }
    },
    methods: {
        childMethod() {
            console.log(this.age);
        }
    }
}
export default {
    name: '',
    components: {
        'my-com': myCom
    },
    filters: {},
    mixins: [],
    model: {},
    props: {},
    data() {
        return {}
    },
    computed:{},
    watch: {},
    created() {
        let dom1 = document.getElementsByClassName('test-dom1');
        console.log(dom1);  // HTLCollection [ div.test-dom1 test-dom ]

        let dom2 = document.getElementsByClassName('test-dom2');
        console.log(dom2);  // HTLCollection [ div.test-dom1 test-dom ]

        let dom3 = document.getElementsByClassName('test-dom3');
        console.log(dom3);  // HTLCollection [ div.test-dom1 test-dom ]

        let ref1 = this.$refs['testDom1'];
        console.log(ref1);  // undefined

        let ref2 = this.$refs['testDom2'];
        console.log(ref2);  // undefined

        let ref3 = this.$refs['testDom3'];
        console.log(ref3);  // undefined

        this.$nextTick(() => {
            let ref3_1 = this.$refs['testDom3'];
            console.log(ref3_1);    // VueComponent...
        })
    }
}
</script>

<style scoped lang="scss">
.test-dom {
    width: 200px;
    height: 200px;
    border: 1px solid #ff0000;
    border-radius: 4px;
    margin-bottom: 30px;
}
</style>

```
- 可以看到：通过ref方式，在created里面都是`undefined`，通过document方式获取dom，都可以获取到。
- 在created里面使用`$nextTick()`可以正确打印出内容。

- 补充tips:
    - created 组件实例创建完成，属性已经绑定，但DOM还未生成，$el属性还不存在
    - mounted 模板编译/挂载之后
    - 父子组件生命周期：
        - 创建的生命周期： 父 beforeCreate  父 created          父 beforeMount  子 beforeCreate     子 created 子 beforeMount 子 mounted 父 mounted
        - 更新的生命周期： 父 beforeUpdate  子 beforeupdated    子 updated      父 updated
        - 销毁的生命周期： 父 beforeDestory 子 beforeDestory    子 destoryed    父 destoryed
    - 作为子组件存在的DOM，在父组件的created生命周期中时，子组件没有创建，获取到的都是空的

## watch监听一个属性，给这个属性两次赋一样的值，watch会触发几次？
```
<template>
    <div>
        <p>测试watch和computed</p>
        <el-button type="primary" @click="number = 2">点击我测试</el-button>
        <p>{{ 'number的值：' + number }}</p>
    </div>
</template>

<script>
export default {
    name: 'test',
    components: {},
    filters: {},
    mixins: [],
    model: {},
    props: {},
    data() {
        return {
            number: 2
        }
    },
    computed:{
        newNumber() {
            console.log('我是computed里面的: ' + this.number);
            return this.numer;
        }
    },
    watch: {
        'number': {
            handler(n, o) {
                console.log('我是watch里面的：' + n);
            }
        }
    },
}
</script>

```
- 当这个变量的初始值和后面的赋值一样时，`computed`和`watch`都不会触发
- 

## 某个计算属性中一个依赖属性，给这个属性两次赋一样的值，这个计算属性会触发几次？
- 同上

## 怎样画出0.5px的线？
- 给1px高度或者宽度，然后使用 `transform: scale();` 缩小0.5倍。
    ```html
        <div class="line></div>
    ```
    ```css
        .line {
            width: 100px;
            height: 1px;
            background-color: #ff0000;
            transform: scale(.5);
        }
    ```

## Vue-router的模式以及传参方式？
- 见 vue路由.md

## 简单介绍自己的一个小功能开发
